# Pins A7 (GPA7) and B7 (GPB7) on the MCP23017 are not strictly limited to outputs in hardware — but Microchip strongly recommends using them only as outputs due to a silicon errata/bug in many (most modern) chips.

# 

# Quick summary

# 

# All 16 pins (GPA0–GPA7 and GPB0–GPB7) are bidirectional in design: you can configure any as input or output via the direction registers (IODIRA / IODIRB).

# You can even write code to set GPA7/GPB7 as inputs — the registers allow it, and on older chips it often worked fine.

# However, starting around 2022 (datasheet Revision D and later), Microchip officially documented GPA7 and GPB7 as output-only for the MCP23017 (note: this does not apply to the MCP23S17 SPI version).

# 

# Why the restriction? (The real issue)

# There's a silicon bug where using GPA7 or GPB7 as an input can corrupt the I²C bus under certain conditions:

# 

# When the input on GPA7/GPB7 changes state (high ↔ low), it can cause glitches or corruption on the SDA line.

# This leads to:

# Wrong readings on other input pins (e.g., other inputs read HIGH when they should be LOW).

# I²C communication failures (bus lockups, NACKs, host malfunctions).

# 

# The problem is intermittent/hard to reproduce reliably, which is why it went unnoticed for years and why older code/examples treat all pins as fully bidirectional.

# 

# Microchip's official statement (from their support article):

# "GPA7 \& GPB7 Cannot Be Used as Inputs In MCP23017"

# → To avoid future issues (including potential bus corruption), use them only as outputs.

